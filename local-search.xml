<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>微分几何1.空间曲线</title>
    <link href="/peish_blog/2025/08/30/space_curve/"/>
    <url>/peish_blog/2025/08/30/space_curve/</url>
    
    <content type="html"><![CDATA[<h1id="空间曲线的基本理论与frenet标架">空间曲线的基本理论与Frenet标架</h1><h2 id="正则空间曲线的定义">1. 正则空间曲线的定义</h2><p>定义弧长参数曲线 <spanclass="math inline"><strong>r</strong>(<em>s</em>) = (<em>x</em>(<em>s</em>), <em>y</em>(<em>s</em>), <em>z</em>(<em>s</em>)) ∈ ℝ<sup>3</sup></span>为正则曲线，满足： <spanclass="math display"><strong>r</strong><sup>′</sup>(<em>s</em>) ≠ 0,  <em>s</em> ∈ (0, <em>b</em>)</span>## 2. Frenet标架的构建</p><h3 id="单位切向量">(1) 单位切向量</h3><p><span class="math display">$$\mathbf{T}(s) = \frac{d}{ds}\mathbf{r}(s) \tag{1}$$</span></p><h3 id="主法向量">(2) 主法向量</h3><p><span class="math display">$$\mathbf{N}(s) = \frac{\mathbf{T}'(s)}{|\mathbf{T}'(s)|} \tag{2}$$</span></p><h3 id="副法向量">(3) 副法向量</h3><p><spanclass="math display"><strong>B</strong>(<em>s</em>) = <strong>T</strong>(<em>s</em>) × <strong>N</strong>(<em>s</em>)</span></p><h2 id="frenet标架与微分方程">3. Frenet标架与微分方程</h2><p>Frenet标架定义为： <spanclass="math display">Frenet := {<strong>T</strong>, <strong>N</strong>, <strong>B</strong>}</span></p><p>其变化规律由Frenet-Serret公式描述： <span class="math display">$$\frac{d}{ds}\begin{pmatrix} \mathbf{T} \\ \mathbf{N} \\ \mathbf{B}\end{pmatrix} =\begin{pmatrix}0 &amp; \kappa(s) &amp; 0 \\-\kappa(s) &amp; 0 &amp; \tau(s) \\0 &amp; -\tau(s) &amp; 0\end{pmatrix}\begin{pmatrix} \mathbf{T} \\ \mathbf{N} \\ \mathbf{B} \end{pmatrix}\tag{6}$$</span></p><h2 id="曲率的推导">4. 曲率的推导</h2><p>由(2)式可得： <spanclass="math display">|<strong>T</strong><sup>′</sup>(<em>s</em>)|<strong>N</strong>(<em>s</em>) = <strong>T</strong><sup>′</sup>(<em>s</em>)</span>定义曲率 <span class="math inline"><em>κ</em>(<em>s</em>)</span>： <spanclass="math display"><em>κ</em>(<em>s</em>)<strong>N</strong>(<em>s</em>) = <strong>T</strong><sup>′</sup>(<em>s</em>)</span></p><blockquote><p><strong>几何意义</strong>：曲率 <spanclass="math inline"><em>κ</em>(<em>s</em>)</span>描述曲线弯曲程度，等于切向量变化率的大小。</p></blockquote><h2 id="挠率的推导">5. 挠率的推导</h2><h3 id="法向量的导数展开">(1) 法向量的导数展开</h3><p>由于 <spanclass="math inline">{<strong>T</strong>, <strong>N</strong>, <strong>B</strong>}</span>是正交标架，可将 <spanclass="math inline"><strong>N</strong><sup>′</sup>(<em>s</em>)</span>表示为： <spanclass="math display"><strong>N</strong><sup>′</sup>(<em>s</em>) = <em>a</em>(<em>s</em>)<strong>T</strong>(<em>s</em>) + <em>b</em>(<em>s</em>)<strong>N</strong>(<em>s</em>) + <em>c</em>(<em>s</em>)<strong>B</strong>(<em>s</em>)</span></p><h3 id="系数求解">(2) 系数求解</h3><p><strong>① 求<spanclass="math inline"><em>a</em>(<em>s</em>)</span>:</strong>对(7)式两边点乘<span class="math inline"><strong>T</strong></span>：<spanclass="math display"><strong>N</strong><sup>′</sup>(<em>s</em>) ⋅ <strong>T</strong>(<em>s</em>) = <em>a</em>(<em>s</em>)</span>由导数关系： <span class="math display">$$\frac{d}{ds}(\mathbf{N} \cdot \mathbf{T}) = \mathbf{N}' \cdot \mathbf{T}+ \mathbf{N} \cdot \mathbf{T}' = 0 \tag{9}$$</span> 结合(5)式： <spanclass="math display"><strong>N</strong><sup>′</sup> ⋅ <strong>T</strong> + <em>κ</em><strong>N</strong> ⋅ <strong>N</strong> = 0 ⇒ <em>a</em>(<em>s</em>) = −<em>κ</em>(<em>s</em>)</span></p><p><strong>② 求<spanclass="math inline"><em>b</em>(<em>s</em>)</span>:</strong>对(7)式两边点乘<span class="math inline"><strong>N</strong></span>：<spanclass="math display"><em>b</em>(<em>s</em>) = 0  (因为<strong>N</strong><sup>′</sup> ⟂ <strong>N</strong>)</span></p><p><strong>③ 求<spanclass="math inline"><em>c</em>(<em>s</em>)</span>:</strong> 定义挠率<span class="math inline"><em>τ</em>(<em>s</em>)</span>： <spanclass="math display"><em>c</em>(<em>s</em>) = <em>τ</em>(<em>s</em>) = −<strong>N</strong><sup>′</sup>(<em>s</em>) ⋅ <strong>B</strong>(<em>s</em>)</span></p><h3 id="最终表达式">(3) 最终表达式</h3><p><spanclass="math display"><strong>N</strong><sup>′</sup>(<em>s</em>) = −<em>κ</em>(<em>s</em>)<strong>T</strong>(<em>s</em>) + <em>τ</em>(<em>s</em>)<strong>B</strong>(<em>s</em>)</span></p><blockquote><p><strong>几何意义</strong>：挠率 <spanclass="math inline"><em>τ</em>(<em>s</em>)</span>描述曲线偏离平面曲线的程度。</p></blockquote><h1id="空间曲线的挠率与平面曲线的关系">空间曲线的挠率与平面曲线的关系</h1><h2 id="定理">定理</h2><p>设 <span class="math inline"><strong>r</strong>(<em>s</em>)</span>是一条正则的空间曲线，参数为弧长 <spanclass="math inline"><em>s</em></span>。则： <spanclass="math display"><em>τ</em>(<em>s</em>) ≡ 0  （挠率恒为零）  ⇔  <strong>r</strong>(<em>s</em>)位于某个平面内</span></p><p><img src="/peish_blog/images/Pasted_image_20250720223956.png" /></p><h2 id="证明">证明</h2><h3 id="必要性-taus-0-rightarrow-平面曲线">1. 必要性 (<spanclass="math inline"><em>τ</em>(<em>s</em>) = 0⇒</span> 平面曲线)</h3><p>假设 <spanclass="math inline"><em>τ</em>(<em>s</em>) = 0</span>，根据Frenet-Serret 公式： <span class="math display">$$\frac{d\mathbf{B}}{ds} = -\tau(s) \mathbf{N} = 0$$</span> 因此副法向量 <spanclass="math inline"><strong>B</strong>(<em>s</em>)</span> 是常向量 <spanclass="math inline"><strong>B</strong><sub>0</sub></span>。</p><p>考虑 <span class="math inline"><strong>r</strong>(<em>s</em>)</span>与 <span class="math inline"><strong>B</strong><sub>0</sub></span>的点积： <span class="math display">$$\frac{d}{ds} (\mathbf{r}(s) \cdot \mathbf{B}_0) = \mathbf{T}(s) \cdot\mathbf{B}_0 = 0$$</span> 积分得： <spanclass="math display"><strong>r</strong>(<em>s</em>) ⋅ <strong>B</strong><sub>0</sub> = <em>D</em>  (常数)</span>即 <span class="math inline"><strong>r</strong>(<em>s</em>)</span>满足平面方程 <spanclass="math inline"><strong>B</strong><sub>0</sub> ⋅ <strong>r</strong>(<em>s</em>) = <em>D</em></span>，故为平面曲线。</p><h3 id="充分性-平面曲线-rightarrow-taus-0">2. 充分性 (平面曲线 <spanclass="math inline"> ⇒ <em>τ</em>(<em>s</em>) = 0</span>)</h3><p>设 <span class="math inline"><strong>r</strong>(<em>s</em>)</span>在平面 <spanclass="math inline"><strong>a</strong> ⋅ <strong>r</strong> = <em>D</em></span>内，则： <spanclass="math display"><strong>r</strong>(<em>s</em>) ⋅ <strong>a</strong> = <em>D</em></span>对 <span class="math inline"><em>s</em></span> 求导： <spanclass="math display"><strong>T</strong>(<em>s</em>) ⋅ <strong>a</strong> = 0</span>再求导： <spanclass="math display"><em>κ</em>(<em>s</em>)<strong>N</strong>(<em>s</em>) ⋅ <strong>a</strong> = 0 ⇒ <strong>N</strong>(<em>s</em>) ⋅ <strong>a</strong> = 0</span>再求导： <span class="math display">$$\frac{d\mathbf{N}}{ds} \cdot \mathbf{a} = 0$$</span> 由 Frenet-Serret 公式： <spanclass="math display">(−<em>κ</em>(<em>s</em>)<strong>T</strong>(<em>s</em>) + <em>τ</em>(<em>s</em>)<strong>B</strong>(<em>s</em>)) ⋅ <strong>a</strong> = 0 ⇒ <em>τ</em>(<em>s</em>)<strong>B</strong>(<em>s</em>) ⋅ <strong>a</strong> = 0</span>因为 <spanclass="math inline"><strong>B</strong> ∥ <strong>a</strong></span>，所以<span class="math inline"><em>τ</em>(<em>s</em>) = 0</span>。</p><h1 id="bezier曲线自适应采样绘制曲线">Bezier曲线自适应采样绘制曲线</h1><h2 id="bezier曲线介绍">Bezier曲线介绍</h2><h3 id="数学表达式">数学表达式</h3><p><spanclass="math display"><em>B</em>(<em>t</em>) = <em>Σ</em><em>B</em><em>ᵢ</em>, <em>ₙ</em>(<em>t</em>) · <em>P</em><em>ᵢ</em>, <em>t</em> ∈ [0, 1]</span>其中 - <spanclass="math inline"><em>B</em><em>ᵢ</em>, <em>ₙ</em>(<em>t</em>) = <em>C</em>(<em>n</em>, <em>i</em>) · <em>t</em><em>ⁱ</em> · (1 − <em>t</em>)<em>ⁿ</em>⁻<em>ⁱ</em></span>，<spanclass="math inline"><em>C</em>(<em>n</em>, <em>i</em>)</span>是二项式系数，<spanclass="math inline"><em>B</em><sub><em>i</em>, <em>n</em></sub>(<em>t</em>)</span>被称为伯恩斯坦多项式。- <spanclass="math inline"><em>P</em><sub><em>i</em></sub></span>是控制点。</p><h3 id="伯恩斯坦多项式性质介绍">伯恩斯坦多项式性质介绍</h3><h4 id="凸包性">凸包性</h4><p>注意到，Bezier曲线公式形式是一个[[仿射组合]]，因为<spanclass="math inline"><em>B</em><sub><em>i</em>, <em>n</em></sub> &gt; 0</span>并且<spanclass="math inline">$\sum^{n}_{i = 0} B_{i,n}(t) = 1$</span>，保证了贝塞尔曲线始终位于控制点的<strong>凸包</strong>内。这一性质在图形学中至关重要，因为它确保了曲线不会失控地偏离控制点。#### 端点插值伯恩斯坦基组合曲线<strong>精确通过首尾控制点</strong>，便于直观控制</p><p>基于以上两点原因：几何建模中更偏爱伯恩斯坦多项式。</p><h2 id="弧长参数s转化一般参数t">弧长参数s转化一般参数t</h2><h2 id="弧长参数下的曲率定义">1. 弧长参数下的曲率定义</h2><p>对于以<strong>弧长</strong> <spanclass="math inline"><em>s</em></span> 为参数的曲线 <spanclass="math inline"><strong>r</strong>(<em>s</em>)</span>，曲率定义为：</p><p><span class="math display">$$\kappa(s) = \left\| \frac{dT}{ds} \right\| = \|\mathbf{r}''(s)\|$$</span></p><p>其中： - <spanclass="math inline"><em>T</em>(<em>s</em>) = <strong>r</strong><sup>′</sup>(<em>s</em>)</span>是单位切向量 - <spanclass="math inline">∥<strong>r</strong><sup>′</sup>(<em>s</em>)∥ ≡ 1</span>（弧长参数的性质）</p><h2 id="任意参数-t-的转换推导">2. 任意参数 <spanclass="math inline"><em>t</em></span> 的转换推导</h2><h3 id="参数变换关系">2.1 参数变换关系</h3><p>对任意参数 <spanclass="math inline"><em>t</em></span>，弧长微分关系为：</p><p><span class="math display">$$ds = \|\mathbf{r}'(t)\| dt \quad \Rightarrow \quad \frac{d}{ds} =\frac{1}{\|\mathbf{r}'(t)\|} \frac{d}{dt}$$</span></p><h3 id="切向量导数转换">2.2 切向量导数转换</h3><p>单位切向量：</p><p><span class="math display">$$T(t) = \frac{\mathbf{r}'(t)}{\|\mathbf{r}'(t)\|}$$</span></p><p>对 <span class="math inline"><em>s</em></span> 的导数：</p><p><span class="math display">$$\begin{aligned}\frac{dT}{ds} &amp;= \frac{1}{\|\mathbf{r}'(t)\|} \frac{d}{dt} \left(\frac{\mathbf{r}'(t)}{\|\mathbf{r}'(t)\|} \right) \\&amp;= \frac{1}{\|\mathbf{r}'(t)\|} \left[  \frac{\mathbf{r}''(t)}{\|\mathbf{r}'(t)\|} -  \frac{\mathbf{r}'(t)\cdot \frac{d}{dt}\|\mathbf{r}'(t)\|}{\|\mathbf{r}'(t)\|^2}\right]\end{aligned}$$</span> 计算<span class="math inline">$\frac{d}{dt}\|\mathbf{r}'(t)\|$</span> 因为<span class="math inline">$\|\mathbf{r}^{'}(t) \|=\sqrt{\mathbf{r}^{'}(t) \cdot\mathbf{r}^{'}(t)}$</span> <span class="math display">$$   \frac{d}{dt}\|\mathbf{r}'(t)\| = \frac{\mathbf{r}'(t) \cdot\mathbf{r}''(t)}{\|\mathbf{r}'(t)\|}   $$</span> 合并结果 <span class="math display">$$   \frac{dT}{ds} = \frac{\mathbf{r}''(t)}{\|\mathbf{r}'(t)\|^2} -\frac{\mathbf{r}'(t) (\mathbf{r}'(t) \cdot\mathbf{r}''(t))}{\|\mathbf{r}'(t)\|^4}   $$</span> ### 2.3使用Python代码绘制贝塞尔曲线</p><p>脚本见bezier_adaptive_subdivision.py ![[Pasted image20250724214858.png]] 图1 使用均匀采样绘制绘制，采样数=100 ![[Pastedimage 20250724215603.png]] 图2 使用曲率自适应采样绘制，采样数=50</p><p>曲率自适应采样的核心优势： -曲率是曲率是微分几何中的<strong>内蕴量</strong>，仅依赖于曲线自身的度量性质（如弧长参数、切向量变化率），与外部坐标系的选取无关。这一特性使得曲率自适应采样具有普适性。这个例子中采样方式对空间中的B样条曲线也同样适用。</p><h1 id="参考资料">参考资料</h1><p>[1](https://agg.sourceforge.net/antigrain.com/research/adaptive_bezier/)AdaptiveSubdivision of Bezier Curves</p>]]></content>
    
    
    <categories>
      
      <category>微分几何</category>
      
    </categories>
    
    
    <tags>
      
      <tag>微分几何</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>微分几何1.正则曲面</title>
    <link href="/peish_blog/2025/08/30/%E6%AD%A3%E5%88%99%E6%9B%B2%E9%9D%A2%E8%AE%B2%E4%B9%89/"/>
    <url>/peish_blog/2025/08/30/%E6%AD%A3%E5%88%99%E6%9B%B2%E9%9D%A2%E8%AE%B2%E4%B9%89/</url>
    
    <content type="html"><![CDATA[<h1 id="正则曲面">正则曲面</h1><h2 id="曲面的局部描述">曲面的局部描述</h2><p>设 <spanclass="math inline"><em>S</em> ⊂ ℝ<sup>3</sup></span>。我们称 <spanclass="math inline"><em>S</em></span> 是一个<strong>正则曲面（regularsurface）</strong>，如果对于每一点 <spanclass="math inline"><em>p</em> ∈ <em>S</em></span>，存在： - 一个开邻域<spanclass="math inline"><em>V</em><sub><em>p</em></sub> ⊂ ℝ<sup>3</sup></span>，使得<spanclass="math inline"><em>p</em> ∈ <em>V</em><sub><em>p</em></sub></span>；- 一个开集 <span class="math inline"><em>U</em> ⊂ ℝ<sup>2</sup></span>；- 一个光滑映射（<spanclass="math inline"><em>C</em><sup>∞</sup></span>）<spanclass="math inline"><strong>X</strong> : <em>U</em> → ℝ<sup>3</sup></span>；满足以下三个条件： - <span class="math inline"><strong>x</strong></span>是一个从 <span class="math inline"><em>U</em></span> 到 <spanclass="math inline"><em>S</em> ∩ <em>V</em><sub><em>p</em></sub></span>的<strong>[[同胚]]映射</strong>（即连续、一一对应，且其逆也连续）：<spanclass="math display"><strong>X</strong> : <em>U</em> → <em>S</em> ∩ <em>V</em><sub><em>p</em></sub><em>为</em><em>同</em><em>胚</em><em>映</em><em>射</em></span>- <span class="math inline"><strong>x</strong></span> 是光滑函数（即<span class="math inline"><em>C</em><sup>∞</sup></span>）； - <spanclass="math inline"><strong>x</strong></span>是满秩的</p><p>![[Pasted image 20250726151330.png]]</p><p>如果<spanclass="math inline"><em>S</em></span>是正则曲面，对任意<spanclass="math inline"><em>p</em> ∈ <em>S</em></span>，在p的微小领域存在2维参数坐标系uv，使得： <spanclass="math display"><strong>X</strong>(<em>u</em>, <em>v</em>) = (<em>x</em>(<em>u</em>, <em>v</em>), <em>y</em>(<em>u</em>, <em>v</em>), <em>z</em>(<em>u</em>, <em>v</em>)), (<em>u</em>, <em>v</em>) ∈ <em>U</em></span></p><h3 id="对开领域v_p的解释">对开领域<spanclass="math inline"><em>V</em><sub><em>p</em></sub></span>的解释：</h3><p>开领域使用开球来定义，开球定义如下： <spanclass="math display"><em>B</em><em>ε</em>​(<em>p</em>) := {<em>q</em> ∈ <em>R</em><sup>3</sup> ∣  ∥ <em>q</em> − <em>p</em> ∥  &lt; <em>ε</em>}</span>### 对同胚的解释： ![[同胚]]</p><h3 id="对映射满秩的解释">对映射满秩的解释：</h3><p>设 <spanclass="math inline"><strong>x</strong> : <em>U</em> ⊂ ℝ<sup>2</sup> → ℝ<sup>3</sup></span>是一个 <span class="math inline"><em>C</em><sup>∞</sup></span>映射，它在每个点 <spanclass="math inline">(<em>u</em>, <em>v</em>)</span>处的微分（雅可比矩阵）是： <span class="math display">$$Dx(u,v) = \begin{bmatrix} \frac{\partial x}{\partial u}  \frac{\partialx}{\partial v} \\  \frac{\partial y}{\partial u}  \frac{\partialy}{\partial v}  \\ \frac{\partial z}{\partial u}  \frac{\partialz}{\partial v}  \end{bmatrix} \in \mathbb{R^{3 \times 2}}$$</span> 如果矩阵<spanclass="math inline"><em>D</em><em>x</em>(<em>u</em>, <em>v</em>)</span>的秩为2，就称<spanclass="math inline"><strong>x</strong></span><strong>满秩</strong>。满秩的条件保证<spanclass="math inline"><em>D</em><em>x</em></span>的两个列向量时线性无关的，能够张成一个平面。</p><p>举例说明： ✅满秩例子（抛物面）： <spanclass="math display"><strong>x</strong>(<em>u</em>, <em>v</em>) = (<em>u</em>, <em>v</em>, <em>u</em><sup>2</sup> + <em>v</em><sup>2</sup>)</span>计算偏导： <spanclass="math display"><em>x</em><sub><em>u</em></sub>​ = (1, 0, 2<em>u</em>), <em>x</em><sub><em>v</em></sub>​ = (0, 1, 2<em>v</em>)</span>这两个向量永远线性无关 ⇒ 满秩</p><p>❌不满秩例子（锥面顶点）： <spanclass="math display"><em>x</em>(<em>u</em>, <em>v</em>) = (<em>u</em>cos <em>v</em>, <em>u</em><em>s</em><em>i</em><em>n</em><em>v</em>, <em>u</em>)</span>在 <span class="math inline"><em>u</em> = 0</span> 处有： <spanclass="math display"><em>x</em><sub><em>u</em></sub>​ = (<em>c</em><em>o</em><em>s</em><em>v</em>, <em>s</em><em>i</em><em>n</em><em>v</em>, 1), <em>x</em><sub><em>v</em></sub>​ = (0, 0, 0)</span>因此叉积为 0 ⇒ 不满秩 ⇒ 顶点不是正则点。</p><blockquote><ul><li>该定义的核心思想是：曲面 <span class="math inline"><em>S</em></span>局部地可以看成是从二维平面的一部分（<spanclass="math inline"><em>U</em> ⊂ ℝ<sup>2</sup></span>）“光滑地贴”到三维空间中；</li><li>“<span class="math inline"><strong>x</strong></span> 是从 <spanclass="math inline"><em>U</em></span> 到 <spanclass="math inline"><em>S</em> ∩ <em>V</em><sub><em>p</em></sub></span>的同胚”确保了没有自交、没有折叠；</li><li>“满秩”确保了 <spanclass="math inline"><strong>x</strong>(<em>U</em>)</span>在局部看起来像一个平面（而不是线或点）；</li><li>正则曲面本质上就是一个二维<strong>可微流形</strong>，嵌入在 <spanclass="math inline">ℝ<sup>3</sup></span> 中。</li></ul></blockquote><h2 id="曲面整体的描述">曲面整体的描述</h2><h3 id="参数变换">参数变换</h3><p><span class="math inline"><em>S</em></span>上的点<spanclass="math inline"><em>P</em></span>存在两个局部坐标<spanclass="math inline">(<em>u</em><sup>1</sup>, <em>u</em><sup>2</sup>)</span>和<spanclass="math inline">(<em>v</em><sup>1</sup>, <em>v</em><sup>2</sup>)</span>，必须借助可微变换将其中一对坐标变换到另一对坐标，如果不存在这种变换，那么建立局部坐标系描述曲面是毫无意义的。</p><p>给定正则曲面<spanclass="math inline"><em>S</em> ∈ 𝕀ℝ<sup>𝟛</sup></span>上任意一点<spanclass="math inline"><em>p</em></span>，在p点周围存在两个2维局部坐标<spanclass="math inline">(<em>u</em><sup>1</sup>, <em>u</em><sup>2</sup>)</span>和<spanclass="math inline">(<em>v</em><sup>1</sup>, <em>v</em><sup>2</sup>)</span>，局部坐标系的定义域分别为<spanclass="math inline"><em>U</em> ∈ 𝕀ℝ<sup>𝟚</sup></span>和<spanclass="math inline"><em>V</em> ∈ 𝕀ℝ<sup>𝟚</sup></span>，再给定两个局部坐标同胚映射：<span class="math display"><em>X</em> : <em>U</em> → <em>S</em></span><span class="math display"><em>Y</em> : <em>V</em> → <em>S</em></span>这两个参数映射满足： <spanclass="math display"><em>p</em> ∈ <em>X</em>(<em>U</em>) ∩ <em>Y</em>(<em>V</em>)</span>![[无标题 2.png]] 可以给出一个同胚映射<spanclass="math inline"><em>h</em> = <em>X</em><sup>−1</sup><em>Y</em></span>将<spanclass="math inline">(<em>v</em><sup>1</sup>, <em>v</em><sup>2</sup>)</span>映射到<spanclass="math inline">(<em>u</em><sup>1</sup>, <em>u</em><sup>2</sup>)</span>。使用链式法则推导 <spanclass="math inline"><em>D</em><em>h</em></span>，<spanclass="math inline"><em>h</em> = <em>X</em><sup>−1</sup> ∘ <em>Y</em></span>，可以对<span class="math inline"><em>h</em></span> 在某点 <spanclass="math inline"><em>q</em> ∈ <em>V</em></span>（即 <spanclass="math inline"><em>Y</em>(<em>q</em>) = <em>p</em> ∈ <em>S</em></span>）处求导：<spanclass="math display"><em>D</em><em>h</em>(<em>q</em>) = <em>D</em>(<em>X</em><sup>−1</sup>)(<em>Y</em>(<em>q</em>)) ⋅ <em>D</em><em>Y</em>(<em>q</em>)</span>而由于 <span class="math inline"><em>X</em></span> 是局部同胚，其导数<span class="math inline"><em>D</em><em>X</em></span> 是满秩（秩为2），所以 <span class="math inline"><em>D</em><em>X</em></span> 在 <spanclass="math inline"><em>X</em><sup>−1</sup>(<em>Y</em>(<em>q</em>))</span>处可逆。利用反函数定理： ![[反函数定理#反函数定理（Inverse FunctionTheorem）]]</p><p>因此 <spanclass="math inline"><em>D</em><em>X</em><sup>−1</sup></span> 是 <spanclass="math inline"><em>D</em><em>X</em></span>的逆矩阵，成立如下关系：</p><p><spanclass="math display"><em>D</em><em>h</em>(<em>q</em>) = (<em>D</em><em>X</em>)<sup>−1</sup> ⋅ <em>D</em><em>Y</em>(<em>q</em>)</span>求行列式得到： <spanclass="math display"><em>d</em><em>e</em><em>t</em>(<em>D</em><em>h</em>(<em>q</em>)) = <em>d</em><em>e</em><em>t</em>((<em>D</em><em>X</em>)<sup>−1</sup>) ⋅ <em>d</em><em>e</em><em>t</em>(<em>D</em><em>Y</em>(<em>q</em>)) ≠ 0</span>## 图册 一个<strong>图册</strong>是覆盖流形 <spanclass="math inline"><em>M</em></span>的一组图的集合，是曲面流形在二维局部坐标中的投影。图册提供了一种方式，把抽象的流形（比如球面、环面、任意曲面）<strong>在每个小块上展开成二维坐标系</strong>，从而可以像处理平面上一样处理它。# 立方体投影 ## 立方体投影原理 对于每一张立方体贴图（6个面），你按下方式进行： 1. 对于每个像素<code>(i, j)</code>，将其坐标归一化到 [-1,1]，得到二维贴图坐标 (u,v)；2. 根据当前面（如 +X、−Y 等）将<spanclass="math inline">(<em>u</em>, <em>v</em>)</span>插入为该面的方向向量的一部分（z固定为 ±1）； 3. 得到三维方向向量 <spanclass="math inline"><em>d⃗</em> ∈ ℝ<sup>3</sup></span>，再进行单位化（normalize）；4. 将该方向向量映射到球面坐标系<spanclass="math inline">(<em>θ</em>, <em>ϕ</em>)</span>，查询原始球面上的纹理值。</p><p>六个立方体面的定义</p><table style="width:100%;"><thead><tr><th>面名</th><th>方向</th><th>固定分量</th><th>方向向量表达 <spanclass="math inline">(<em>x</em>, <em>y</em>, <em>z</em>)</span></th><th>Python代码表达</th></tr></thead><tbody><tr><td>px</td><td>+X</td><td><span class="math inline"><em>x</em> = +1</span></td><td><span class="math inline">(+1, −<em>v</em>, −<em>u</em>)</span></td><td>[1, -v, -u]</td></tr><tr><td>nx</td><td>−X</td><td><span class="math inline"><em>x</em> = −1</span></td><td><span class="math inline">(−1, −<em>v</em>, +<em>u</em>)</span></td><td>[-1, -v, u]</td></tr><tr><td>py</td><td>+Y</td><td><span class="math inline"><em>y</em> = +1</span></td><td><span class="math inline">(+<em>u</em>, +1, +<em>v</em>)</span></td><td>[u, 1, v]</td></tr><tr><td>ny</td><td>−Y</td><td><span class="math inline"><em>y</em> = −1</span></td><td><span class="math inline">(+<em>u</em>, −1, −<em>v</em>)</span></td><td>[u, -1, -v]</td></tr><tr><td>pz</td><td>+Z</td><td><span class="math inline"><em>z</em> = +1</span></td><td><span class="math inline">(+<em>u</em>, −<em>v</em>, +1)</span></td><td>[u, -v, 1]</td></tr><tr><td>nz</td><td>−Z</td><td><span class="math inline"><em>z</em> = −1</span></td><td><span class="math inline">(−<em>u</em>, −<em>v</em>, −1)</span></td><td>[-u, -v, -1]</td></tr></tbody></table><h2 id="投影分类">投影分类</h2><p>正向射线投影（Forward Ray Projection）： -它不是等距投影，也不是保面积投影； -它保持角度局部近似不变（近似等角）； -是立方体展开图和单位球面之间最自然、对称的投影方式； -每个面是一个射线方向段（±X, ±Y, ±Z）的代表。 # 参考资料 1.曲线和曲面的微分几何, Manfredo Do Carmo 2.https://zhuanlan.zhihu.com/p/559813747</p>]]></content>
    
    
    <categories>
      
      <category>微分几何</category>
      
    </categories>
    
    
    <tags>
      
      <tag>微分几何</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Weigarten变换</title>
    <link href="/peish_blog/2025/08/28/Weigarten%E5%8F%98%E6%8D%A2/"/>
    <url>/peish_blog/2025/08/28/Weigarten%E5%8F%98%E6%8D%A2/</url>
    
    <content type="html"><![CDATA[<h1 id="weigarten变换定义">Weigarten变换定义</h1><p>对任意切向量 <spanclass="math inline"><strong>v</strong> ∈ <em>T</em><sub><em>p</em></sub><em>S</em></span>，考虑单位法向量场<span class="math inline"><strong>n</strong></span>在曲面邻域的方向导数，这个求导映射就是<strong>Weigarten变换</strong>或者<strong>形算子</strong></p><p>用符号化的语言抽象描述：</p><p><spanclass="math display"><em>S</em><sub><em>p</em></sub> : <em>T</em><sub><em>p</em></sub><em>S</em> → <em>T</em><sub><em>p</em></sub><em>S</em>, <em>S</em><sub><em>p</em></sub>(<strong>v</strong>) = −<em>D</em><sub><em>v</em></sub>(<strong>n</strong>)</span></p><ul><li><spanclass="math inline"><em>D</em><sub><strong>v</strong></sub>(<strong>n</strong>)</span>表示法向量场沿切向量 <span class="math inline"><strong>v</strong></span>的方向导数</li><li><span class="math inline"><em>S</em><sub><em>p</em></sub></span>是线性算子</li><li>负号是个约定的方向</li></ul><hr /><h2id="weingarten变换形算子与第一二基本形式的关系">Weingarten变换（形算子）与第一、二基本形式的关系</h2><h3 id="符号说明">符号说明</h3><p>假设有参数化曲面<spanclass="math inline"><strong>r</strong> = <strong>r</strong>(<em>u</em><sup>1</sup>, <em>u</em><sup>2</sup>)</span>，在局部坐标<spanclass="math inline">(<em>u</em><sup>1</sup>, <em>u</em><sup>2</sup>)</span>下记偏导为<br /><span class="math display">$$\mathbf{r}_i=\dfrac{\partial\mathbf{r}}{\partial u^i},\qquad\mathbf{r}_{ij}=\dfrac{\partial^2\mathbf{r}}{\partial u^i\partialu^j},\quad i,j=1,2.$$</span> 定义单位法向量: <span class="math display">$$\mathbf{n}=\dfrac{\mathbf{r}_1\times\mathbf{r}_2}{|\mathbf{r}_1\times\mathbf{r}_2|}.$$</span></p><p>第一基本形式<spanclass="math inline"><em>g</em><sub><em>i</em><em>j</em></sub> = ⟨<strong>r</strong><sub><em>i</em></sub>, <strong>r</strong><sub><em>j</em></sub>⟩</span>为局部切空间上的内积度量：</p><p>矩阵写法： <span class="math display">$$g_{ij} = \begin{pmatrix}E&amp;F \\ F&amp;G\end{pmatrix}$$</span></p><p>系数记做：<spanclass="math inline"><em>E</em> = <em>g</em><sub>11</sub>,;<em>F</em> = <em>g</em><sub>12</sub> = <em>g</em><sub>21</sub>,;<em>G</em> = <em>g</em><sub>22</sub></span>。</p><p>第二基本形式<spanclass="math inline"><em>b</em><sub><em>i</em><em>j</em></sub> = ⟨<strong>r</strong><sub><em>i</em><em>j</em></sub>, <strong>n</strong>⟩</span>为切向量的微小变化在法向的投影 <span class="math display">$$b_{ij} = \begin{pmatrix}L&amp;M \\ M&amp;N\end{pmatrix}$$</span> 系数记做：<spanclass="math inline"><em>L</em> = <em>b</em><sub>11</sub>,;<em>M</em> = <em>b</em><sub>12</sub> = <em>b</em><sub>21</sub>,;<em>N</em> = <em>b</em><sub>22</sub></span>。</p><h3 id="weingarten方程">Weingarten方程</h3><p>对 <span class="math inline"><strong>n</strong></span>对坐标求偏导，符号记做 <spanclass="math inline">∂<sub><em>i</em></sub><strong>n</strong> = <strong>n</strong><sub><em>i</em></sub></span>。- <spanclass="math inline">∂<sub>1</sub><strong>n</strong> = <strong>n</strong><sub>1</sub></span>:点<span class="math inline"><em>p</em></span> 沿<spanclass="math inline"><em>u</em><sub>1</sub></span>移动 <spanclass="math inline"><em>n</em></span> 的变化率 - <spanclass="math inline">⟨<strong>n</strong>, <strong>r</strong><sub><em>j</em></sub>⟩ = 0</span></p><p><spanclass="math inline">⟨<strong>n</strong>, <strong>r</strong><sub><em>j</em></sub>⟩ = 0</span>对 <span class="math inline"><em>u</em><sup><em>i</em></sup></span>求导得：</p><p><span class="math display">$$\begin{aligned}\langle \frac{\partial \mathbf{n}}{\partial u^{i}},\mathbf{r}_{j}\rangle+ \langle \mathbf{n},\frac{\partial \mathbf{r}_{j}}{\partialu^{i}}\rangle = 0\\\langle \mathbf{n}_i,\mathbf{r}_j\rangle + \langle\mathbf{n},\mathbf{r}_{ij}\rangle =0.\end{aligned}$$</span></p><blockquote><p>此处有<span class="math inline"><em>i</em>, <em>j</em></span>两个指标</p></blockquote><p>因为 <spanclass="math inline">⟨<strong>n</strong>, <strong>r</strong><sub><em>i</em><em>j</em></sub>⟩ = <em>b</em><sub><em>i</em><em>j</em></sub></span>，所以<spanclass="math inline">⟨<strong>n</strong><sub><em>i</em></sub>, <strong>r</strong><sub><em>j</em></sub>⟩ = −<em>b</em><sub><em>i</em><em>j</em></sub></span>而 <spanclass="math inline"><strong>n</strong><sub><em>i</em></sub></span>本身是切向量（因为 <spanclass="math inline">⟨<strong>n</strong><sub><em>i</em></sub>, <strong>n</strong>⟩ = 0</span>），可以在基<spanclass="math inline"><strong>r</strong><sub>1</sub>, <strong>r</strong><sub>2</sub></span>上展开：</p><p><spanclass="math display"><strong>n</strong><sub><em>i</em></sub> = <em>α</em><sup><em>i</em></sup><strong>r</strong><sub><em>i</em></sub> = <em>α</em><sup>1</sup><strong>r</strong><sub>1</sub> + <em>α</em><sup>2</sup><strong>r</strong><sub>2</sub></span>&gt; 注：<spanclass="math inline"><em>α</em><sup><em>i</em></sup></span>这里是行向量</p><p><span class="math display">$$\langle \mathbf{n}_i,\mathbf{r}_j\rangle=\langle\alpha^{i}\mathbf{r}_{i},\mathbf{r}_{j} \rangle=\alpha^{i}\underbrace{\langle \mathbf{r}_{i},\mathbf{r}_{j} \rangle}_{g_{ij}}$$</span> 所以： <spanclass="math display"><em>α</em><sup><em>i</em></sup><em>g</em><sub><em>i</em><em>j</em></sub> = <em>b</em><sub><em>i</em><em>j</em></sub></span>变形得： <spanclass="math display"><em>α</em><sup><em>i</em></sup> = <em>b</em><sub><em>i</em><em>j</em></sub><em>g</em><sub><em>i</em><em>j</em></sub><sup>−1</sup></span><strong>切线方向的形算子</strong> 定义形算子为 <spanclass="math inline"><em>S</em> := −<em>D</em><sub><em>v</em></sub><strong>n</strong></span>，则：<spanclass="math display"><em>S</em>(<strong>r</strong><sub><em>k</em></sub>) = −<strong>n</strong><sub><em>i</em></sub> = −<em>b</em><sub><em>i</em><em>j</em></sub><em>g</em><sub><em>i</em><em>j</em></sub><sup>−1</sup><strong>r</strong><sub><em>k</em></sub>​.</span>&gt; 此处3个指标<spanclass="math inline"><em>i</em>, <em>j</em>, <em>k</em></span></p><p><strong>任意切向量 <span class="math inline"><em>v</em></span>的形算子</strong> 给定切平面上的任意向量： <spanclass="math display"><strong>v</strong> = <em>v</em><sup><em>i</em></sup></span>沿 <span class="math inline"><strong>v</strong></span> 求 <spanclass="math inline"><strong>n</strong></span> 的方向导数： <spanclass="math display"><em>D</em><sub><em>v</em></sub><strong>n</strong> = <em>v</em><sup><em>i</em></sup><strong>n</strong><sub><em>i</em></sub> = −<em>b</em><sub><em>i</em><em>j</em></sub><em>g</em><sub><em>i</em><em>j</em></sub><sup>−1</sup><em>v</em><sup><em>i</em></sup><strong>r</strong><sub><em>k</em></sub>​.</span>定义： <spanclass="math display"><em>S</em> = <em>b</em><sub><em>i</em><em>j</em></sub><em>g</em><sub><em>i</em><em>j</em></sub><sup>−1</sup></span>则： <spanclass="math display"><em>S</em>(<strong>v</strong>) = <em>D</em><sub><strong>v</strong></sub><strong>n</strong> = −<em>S</em><em>v</em><sup><em>i</em></sup><strong>r</strong><sub><em>k</em></sub></span>这是形算子（Weingarten映射）的指标形式，确实简化的符号。</p><p>将<spanclass="math inline"><em>E</em>, <em>F</em>, <em>G</em></span>和<spanclass="math inline"><em>L</em>, <em>M</em>, <em>N</em></span>分别代入<spanclass="math inline"><em>S</em>(<strong>r</strong><sub><em>i</em></sub>)</span>和<spanclass="math inline"><em>S</em>(<strong>v</strong>)</span>就能得到<spanclass="math inline"><em>W</em><em>e</em><em>i</em><em>n</em><em>g</em><em>a</em><em>r</em><em>t</em><em>e</em><em>n</em></span>变换的代数表达式：</p><p><span class="math display">$$\mathbf{n}_{1} =\frac{FM-GL}{EG-F^{2}}\mathbf{r}_{1}+\frac{FL-EM}{EG-F^2}\mathbf{r}_{2}$$</span> <span class="math display">$$\mathbf{n}_{2} =\frac{FN-GM}{EG-F^{2}}\mathbf{r}_{1}+\frac{FM-EN}{EG-F^2}\mathbf{r}_{2}$$</span> <span class="math display">$$n_{v} = S(\mathbf{v})= \frac{(L G - M F)\,v^1 + (M E - L F)\,v^2}{EG-F^2}\,\mathbf{r}_u+ \frac{(M G - N F)\,v^1 + (N E - M F)\,v^2}{EG-F^2}\,\mathbf{r}_v.$$</span></p>]]></content>
    
    
    <categories>
      
      <category>微分几何</category>
      
    </categories>
    
    
    <tags>
      
      <tag>微分几何</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/peish_blog/2025/08/27/hello-world/"/>
    <url>/peish_blog/2025/08/27/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your veryfirst post. Check <a href="https://hexo.io/docs/">documentation</a> formore info. If you get any problems when using Hexo, you can find theanswer in <ahref="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> oryou can ask me on <ahref="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="quick-start">Quick Start</h2><h3 id="create-a-new-post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <ahref="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="run-server">Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="generate-static-files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <ahref="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="deploy-to-remote-sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <ahref="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
